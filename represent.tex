% -*- root: main.tex -*-

\chapter{Representability}\label{RepChap}

In this Chapter, we turn to one of the most unique features of homotopy theory: Brown's representability theorem.
This theorem shows that many of the tools of algebraic topology can themselves be thought of as homotopy types in their own right.
We have already encountered this idea with our most fundamental tools so far: homotopy groups are corepresented by spheres, and cohomology groups are represented by Eilenberg--Mac Lane spaces, and this gives a wild generalization of this pattern.
As an application of this idea, we introduce the notions of the \define{localization} and \define{completion} of a space, imported from their corresponding algebraic effects on homotopy groups.
We also introduce the notion of a \define{spectrum}, whose role is to capture the elaborate structure present in a co/homology theory beyond mere representability.
Spectra are interesting enough objects in their own right, and will play a large enough role later on, that we work through a good amount of their theory here.

\todo{This used to live in the obstruction theory section, where it no longer makes sense because we don't know what infinite loopspaces are.
It probably belongs somewhere in this chapter.}
% \begin{example}
% Another interesting case is when $Y = \OS{E}{0}$ is an infinite-loopspace.  This spectral sequence then recovers the Atiyah--Hirzebruch spectral sequence from the previous lecture.
% \end{example}




\section{Brown representability}\label{BrownRepSec}

Early on, when we were getting used to the categorical approach to homotopy theory, we noted in \Cref{HomSheafRemark} that $\CatOf{Spaces}(-, T)$ forms a \define{sheaf} on the category $\CatOf{Spaces}$.
This isn't our only example of such an object: cohomology functors can also be thought of as sheaves, as the Eilenberg--Steenrod axioms include the sheaf axioms as a subset.
However, in the course of our study of the homotopy theory of CW--complexes, we discovered that these two examples are actually not separate: \Cref{OrdinaryCohIsRepresentable} gave a natural isomorphism \[\widetilde H^n(X; A) \xrightarrow\cong [X, K(A, n)],\] where $K(A, n)$ is an \define{Eilenberg--Mac Lane space} as in \Cref{EMSpacesExist}.
Today we prove that this is not an accident: all sheaves in the homotopy category are representable.

\begin{theorem}[Brown]\label{BrownRepThm}\marginnote{\citep[Theorem 9.12]{Switzer}}
Let $F\co h\CatOf{Spaces}^{\op}_{\mathrm{conn}, */} \to \CatOf{Sets}_{*/}$ be a functor on the homotopy category of pointed, connected spaces which satisfies the following:
\todo{Remark somewhere that phantom maps are not a concern if you work with space-valued lifts the whole while.}
\begin{description}
    \item[Wedge axiom:] $F$ converts wedges to products, as in \[F\left(\bigvee_\alpha X_\alpha\right) \cong \prod_\alpha F(X_\alpha).\]
    \item[Gluing condition:] Elements in the image of $F$ glue.
    For a decomposition $X = A_1 \cup A_2$ and for elements $f_1 \in F(A_1)$, $f_2 \in F(A_2)$ which agree on the intersection, as in \[f_1|_{A_1 \cap A_2} = f_2|_{A_1 \cap A_2},\] then there exists a glued element $f \in F(X)$ which satisfies $f_1 = f|_{A_1}$ and $f_2 = f|_{A_2}$.
    \todo{Remark that this isn't quite the sheaf axiom, since it's missing unicity.}
\end{description}
There then exists a \define{representing CW-complex} $Y$ and a \define{universal element} $u \in F(Y)$ such that the natural transformation
\begin{align*}
[T, Y] & \to F(T), \\
\phi & \mapsto \phi^*(u)
\end{align*}
is a natural bijection.
Moreover, there is a compatible bijection between natural transformations $F \to F'$ between such functors and homotopy classes $Y \to Y'$ between their representing objects.
\end{theorem}

\noindent We construct this in stages.

\begin{definition}\marginnote{\citep[Definition 9.6]{Switzer}}
An element $u \in Y$ is said to be \define{$n$--universal} if the associated natural transformation
\begin{align*}
[S^q, Y] & \to F(S^q) \\
\phi & \mapsto \phi^*(u)
\end{align*}
is surjective for $q \le n$ and bijective for $q < n$.
\marginnote{It follows that $Y$ will represent $F$ for all CW--complexes of dimension less than $n$.}
\end{definition}

\begin{lemma}\label{NUnivToNPlusOne}\marginnote{\citep[Lemma 9.8]{Switzer}}
If there exists an $n$--universal element on $Y$, then there exists a $Y'$ carrying an $(n+1)$--universal element.
\end{lemma}
\begin{proof}
Suppose we have an $n$--universal element $u_n$ on a complex $Y$.
From this, we would like to construct an $(n+1)$--universal element $u_{n+1}$ on a complex $Y'$.
We set about trying to ``fix'' $[S^n, Y] \to F(S^n)$, which might have too many elements to be a bijection, and $[S^{n+1}, Y] \to F(S^{n+1})$, which might be missing some elements to be a surjection.
Note that because $S^n$ is an $H$--cogroup for $n \ge 1$, the map $[S^n, Y] \to F(S^n)$ is actually a map of groups.
It follows that if we merely ensure that this surjective map does not have a kernel, it will be an isomorphism.
\marginnote{This is exactly why we restricted attention to \emph{connected} spaces: it gives us control over all the fibers of the map $[S^n, Y] \to F(S^n)$, rather than just the fiber over the constant map.}

This inspires us to consider the defect sets
\todo{Why $A$ and $L$?  Seems like weird notation.}
\begin{align*}
A & = \{\alpha \in \pi_n Y \mid \alpha^* u_n = 0\}, &
L & = F(S^{n+1}),
\end{align*}
\marginnote{Here we are being a bit glib: perhaps some items in $F(S^{n+1})$ can be expressed as pullbacks of $u_n$, but there's no harm in adding more things to make sure we hit.}
and form the mapping cone
\begin{align*}
\bigvee_{\alpha \in A} S^n_\alpha & \xrightarrow{\alpha} Y \vee \bigvee_{\lambda \in L} S^{n+1}_\lambda \to Y'.
\intertext{Applying $F$, we have}
0 = \bigvee_\alpha \alpha^*(u_n) & \mapsfrom u_n \vee \bigvee_\lambda \lambda,
\end{align*}
hence we can lift it to an element $u_{n+1} \in F(Y')$.
Since $Y'$ is formed from $Y$ using $(n+1)$--cells, it agrees with $Y$ on $\pi_{< n}$, hence it is $n$--universal.
As for $(n+1)$--universality, it is designed to fix the defect at $\pi_n$ exactly, and the wedge over $\lambda$ forces surjectivity at $\pi_{n+1}$.
\end{proof}

\begin{lemma}\label{ClassifiedMapsAlwaysExtend}%
\marginnote{\citep[Corollary 9.9, Lemma 9.11]{Switzer}}
\marginnote{%
\begin{tikzcd}[ampersand replacement=\&]
\& v' \arrow[equal]{dl} \& \& u \arrow[|->]{ll} \\
v|_A \& A \arrow["g'"]{r} \arrow[hookrightarrow]{d} \& Y \\
\& X \arrow[densely dotted, "g"]{ur} \\
v \arrow[|->]{uu} \arrow[densely dotted, bend right]{rrruuu}
\end{tikzcd}
}
Let $Y$ be a space with universal element $u$, let $(X, A)$ be a CW-pair, let $v \in F(X)$ be a choice of element, and let $g\co A \to Y$ be a cellular map which classifies $v|_A$.
There then exists a cellular map which classifies $v$ and which extends $g$.
\end{lemma}
\begin{proof}[Proof idea]
We define a ``double mapping cylinder'' $T$ which consists of the space $X$, the space $Y$, and the space $A \times I$, so that the leading edge of $A \times I$ is sewn to its image in $X$ and the trailing edge of $A \times I$ is sewn to its image under $g$ in $Y$.
\marginnote{This is the ``homotopy pushout'' of $X \xleftarrow{i} A \xrightarrow{g} Y$.}
\todo{There's a picture here.}
This space has a decomposition into $A_1$, which consists of $X$ and half of the cylinder, and $A_2$, which consists of $Y$ and half of the cylinder.
Since $A_1$ and $A_2$ are respectively homotopy equivalent to $X$ and $Y$, we may respectively consider $u$ and $v$ as elements of $F(A_1)$ and $F(A_2)$.
Definitionally, they agree on $A_1 \cap A_2$ (i.e., on the cylinder, which is equivalent to $A$), and hence they give rise to the glued element $w \in F(T)$.
We can extend $T$ to a CW pair $(Y', T)$ with universal element $u'$ restricting to $w$ (and hence to $u$).
\marginnote{Just re-run \Cref{NUnivToNPlusOne}, starting instead with $T$ and $w$ rather than a point and the trivial class.}
We apply Whitehead's theorem to the induced weak equivalence $Y \to Y'$ to produce an inverse, and the composite gives the desired map: $X \to Y' \to Y$.
\end{proof}

\begin{proof}[{Proof of \Cref{BrownRepThm}}]
To get surjectivity, set $A = \{x_0\}$ and apply \Cref{ClassifiedMapsAlwaysExtend}.
To get injectivity, set $X' = X \times I$, $A' = X \times \partial I$, and apply \Cref{ClassifiedMapsAlwaysExtend} again.
To get the statement about natural transformations, one need only chase the identity transformation through \[[Y, Y] \xrightarrow\cong F(Y) \xrightarrow{T} F'(Y) \xleftarrow\cong [Y, Y']\] to produce an element $f$.
\end{proof}

There is a useful companion result that works with functors $F$ defined only on \emph{finite} CW-complexes.

\begin{theorem}[Adams]\marginnote{\citep[Theorem 9.21]{Switzer}}\label{BrownRepAdamsVersion}
If $F$ is a functor to \emph{groups} from \emph{finite} CW-complexes satisfying the two conditions of Brown's theorem, then it is representable.
Natural transformations induce maps of representing objects that are unique up to \emph{weak homotopy}: if $t, t'\co Y \to Z$ are two maps of representing objects inducing the maps $t_*$ and $t'_*$ on finite complexes, then any finite complex $f\co F \to Y$ has $t \circ f \simeq t' \circ f$. \qed
\todo{There's a margin note here that I threw out as unhelpful.  See if it can be salvaged.}
% \marginnote{
% A key trick is to define $\widehat F(X) = \lim_\alpha F(X_\alpha)$.
% This modification of $F$ satisfies the wedge axiom on the nose, it satisfies only a weak form of Mayer-Vietoris, but it gains the fact that the usual projection is an isomorphism: \[F(\lim{}_\alpha X_\alpha) \to \lim{}_\alpha F(X_\alpha).\]
% }
\end{theorem}



\section{Arithmetic decomposition}

\todo[inline]{Add citations from Sullivan.}
\todo{What's the concrete punchline of this day?  What question did we start with which we can now answer?  What will we ask next?}

In \Cref{FedererSSeq}, we deduced the existence of a spectral sequence with signature
\begin{align*}
E^1_{m, n} & = \pi_m F(X, K(\pi_{n+1} Y, n+1)) \\
& = \widetilde H^{n-m+1}(X; \pi_{n+1} Y) \Rightarrow \pi_m F(X, Y).
\end{align*}
This spectral sequence precisely encodes the claim that the available maps from $X$ to $Y$ are captured by certain cohomology groups, subject to an elaborate cancellation process by way of the spectral sequence's differentials.
An interesting consequence of the foreground role of algebra is that different primes do not interact much: a $p$--primary component appearing in the spectral sequence can only participate in nonzero differentials which involve other $p$--primary components for the same prime $p$.
This suggests that the homotopy types $X$ and $Y$ can themselves be pulled apart into pieces associated to the different arithmetic primes.
Indeed, this turns out to be so.

The specific algebraic reconstruction theorem which we hope to recapture for spaces is:
\begin{theorem}
For a finitely generated abelian group $A$,
\marginnote{%
Is it possible to drop the finite generation hypotheses, at the price of working with complexes of abelian groups.
For example, the profinite completion of $A = \Z/p^\infty$ turns out to be $\Susp^{-1} \Z_p$, which presents $A$ via the exact sequence \[\Susp^{-1} \Z_p \to \Susp^{-1} \Q_p \xrightarrow\partial \Z/p^\infty.\]}
there is a pullback square
\begin{center}
\begin{tikzcd}
A \arrow{r} \arrow{d} & \widehat A \arrow{d} \\
\Q \otimes A \arrow{r} & \Q \otimes \widehat A,
\end{tikzcd}
\end{center}
where $\widehat A = \lim_{\substack{B \le A \\ \text{$B$ finite}}} A / B$ denotes the profinite completion. \qed
\end{theorem}

\noindent
Thus, our first goal will be to define analogues of rationalization and profinite completion for spaces, in such a way that in good cases we have $\pi_n \widehat X = \widehat{\pi_n X}$, $\pi_n \Q \otimes X = \Q \otimes \pi_n X$, and a homotopy pullback square
\begin{center}
\begin{tikzcd}
X \arrow{r} \arrow{d} & \widehat X \arrow{d} \\
\Q \otimes X \arrow{r} & \Q \otimes \widehat X.
\end{tikzcd}
\end{center}

We begin with localization.

\begin{definition}
A simply connected homotopy type $X$ is said to be \define{rational} when $\pi_* X$ is a rational vector space.
\marginnote{All of these definitions and constructions can also be made when inverting only a subset of all available primes, giving rise to $p$--localization.}
The \define{rationalization} $\Q \otimes X$ is a universal rational space under $X$: any other map $X \to Y$ with $Y$ a rational space admits a factorization
\begin{center}
\begin{tikzcd}
X \arrow{rr} \arrow{rd} & & \Q \otimes X \arrow[densely dotted]{ld} \\
& Y.
\end{tikzcd}
\end{center}
\end{definition}

\begin{lemma}
\todo{Indications on proof. I think this is where mod--$\CC$ theory is actually valuable.}
The following are equivalent:
\begin{itemize}
    \item A map $\ell\co X \to X'$ is rationalization.
    \item The map $\ell_* \co \pi_* X \to \pi_* X'$ is rationalization.
    \item The map $\ell_* \co H_*(X; \Z) \to H_*(X'; \Z)$ is rationalization.
    \marginnote{%
    Definitionally, rational spaces are closed under exact sequences.
    This Lemma also shows that they are closed under coexact sequences.}
\end{itemize}
\end{lemma}
\begin{proof}[Proof sketch]
The first and second conditions are equivalent via Whitehead's theorem.
The second and last conditions are equivalent via a modified form of the Hurewicz theorem.
\todo{Probably flesh this out.}
\end{proof}

\begin{theorem}
The rationalization of any simply connected CW--complex $X$ exists.
\marginnote{}
\end{theorem}
\begin{proof}
We produce two distinct constructions.

First, using $\pi_n S^n \cong \Z$ for $n \ge 1$, the rationalization $\Q \otimes S^n$ is simple to produce:\todo{Flesh this out.} \[\Q \otimes S^n = \colim \left( \cdots \to S^n \xrightarrow{p} S^n \to \cdots \right).\]

Second, we can also rationalize the Postnikov tower of $X$.
\todo{Flesh this out too.}
\marginnote{No rationalization (or localization) functor can preserve all co/exact extensions~\citep[pg.\ 40]{Sullivan}.}
\end{proof}

The construction of the profinite completion of a space is much more indirect: the profinite completion of the sphere is not obvious, and the example of $B\Z/p^\infty$ indicates that it is not clear how to modify the Postnikov tower.
Meanwhile, when translating the definition of the profinite completion of an abelian group it is not clear what should play the role of a surjection onto a finite object.
To alleviate this, note that the profinite completion of an abelian group can also be formed from a larger system: one takes the limit of \emph{all} finite groups under $A$ in the category of \emph{all} groups under $A$.

\begin{definition}
Consider the representable functor $X(Y) = [Y, X]$ determined by $X$.
\marginnote{%
All of these definitions can constructions can also be made when targeting only finite $p$--groups, giving rise to $p$--adic completion.
In fact, $\widehat X = \prod_p X_p$.}
The \define{profinite completion} $\widehat X$ of this functor is determined by \[\widehat X(Y) = \lim [Y, F],\] where $F$ ranges over all spaces under $X$ such that $\pi_* F$ is finite.
\end{definition}

\begin{lemma}
\todo{Indicate proof?}
The functor $\widehat X$ satisfies the hypotheses for Brown representability as in \Cref{BrownRepAdamsVersion}. \qed
\end{lemma}

\begin{definition}
The associated homotopy type, $\widehat X$, is the \define{profinite completion} of $X$.
\end{definition}

\begin{lemma}
For $X$ a simply connected space of finite type,
\begin{align*}
\pi_n \widehat X & = \widehat{\pi_n X}, &
H_n(\widehat X; \Z) & = \widehat{H_n(X; \Z)}.
\qed
\end{align*}
\end{lemma}

\begin{lemma}\label{WhatIsModPGoodFor}
\todo{Proof?  Also, corollary statement that $H_*(X; \F_p) \to H_*(\widehat X; \F_p)$ is an isomorphism for $X$ of finite type?}
If $X$ is of finite type, $Y$ is $p$--complete, and $H_*(X; \F_p) \to H_*(Y; \F_p)$ is an isomorphism, then $X_p \to Y$ is a weak equivalence. \qed
\end{lemma}

\begin{theorem}
\todo{Is there a proof of this that doesn't use the SSS or Serre finiteness?}
A simply connected space $X$ can be recovered as the homotopy pullback
\begin{center}
\begin{tikzcd}
X \arrow{r} \arrow{d} & \widehat X \arrow{d} \\
\Q \otimes X \arrow{r} & \Q \otimes \widehat X.
\qed
\end{tikzcd}
\end{center}
\end{theorem}





% \todo[inline]{Make a much briefer reference to Serre classes, which gives an equivalent theory that is closer to that of Bousfield localization.}

% The idea is to build a version of homotopy theory that only thinks about a particular prime.  We \emph{already} built a version of homotopy theory that only cares about homotopy type---this is an elaboration of that.

% \begin{definition}
% A \define{class} of abelian groups is a collection $\CC$ such that
% \begin{enumerate}
%     \item For $0 \to A' \to A \to A'' \to 0$, $A \in \CC$ if and only if $A', A'' \in \CC$.  (``Closed under $+$, $-$.'')
%     \item For $A \in \CC$ and $B$ a group, $A \otimes B \in \CC$.  (``Closed under $\cdot$, an ideal.'')\marginnote{Sometimes we just ask for $A \otimes A'$ and $\Tor(A, A')$ to lie in $\CC$.}
%     \item For $A \in \CC$, $H_{* > 0}(BA; \Z) \in \CC$.
% \end{enumerate}
% \end{definition}

% \begin{example}
% $\CC_p$: abelian torsion groups of finite exponent and every order of every element is prime to $p$.
% \end{example}

% \textbf{Big idea:} Algebra work ``up to $\CC$'': a \define{$\CC$--monomorphism} has kernel in $\CC$.  A \define{$\CC$--epimorphism} has cokernel in $\CC$.  A \define{$\CC$--isomorphism} has both, and two groups are \define{$\CC$--isomorphic} if they're connected by a zig-zag of $\CC$--isomorphisms.

% \textbf{Bigger idea:} Homological algebra also works ``up to $\CC$''.  There are notions of $\CC$--exactness, the $5$--lemma up to $\CC$, the snake lemma up to $\CC$, \ldots .

% \textbf{Biggest idea:} Homotopy theory (of simply connected spaces) works ``up to $\CC$''.

% \begin{theorem}[Hurewicz]
% For $X$ a simply-connected space, if $\pi_{< n} X \in \CC$ then $H_{< n} X \in \CC$ and $\pi_n X \to H_n X$ is a $\CC$--isomorphism. \qed
% \end{theorem}

% \begin{theorem}[Whitehead]
% For $f\co X \to Y$ a map of simply-connected spaces which is an isomorphism on $\pi_2$, $f$ induces a $\CC$--isomorphism on $\pi_{< n}$ and a $\CC$--epimorphism on $\pi_n$ if and only if $f$ induces a $\CC$--isomorphism on $H_{< n}$ and a $\CC$--epimorphism on $H_n$. \qed
% \end{theorem}

% \begin{theorem}[Approximation]
% Let $X$, $Y$ by simply-connected spaces and let $f\co Y \to X$ have $\pi_2$ epi.  The following are equivalent:
% \begin{enumerate}
%     \item $H^{< n}(X; \Z/p) \to H^{< n}(Y; \Z/p)$ is an isomorphism and $H^n(X; \Z/p) \to H^n(Y; \Z/p)$ is a monomorphism.
%     \item $H_{< n}(Y; \Z/p) \to H_{< n}(X; \Z/p)$ is an isomorphism and $H_n(Y; \Z/p) \to H_n(X; \Z/p)$ is an epimorphism.
%     \item $H_{\le n}(X, Y; \Z/p) = 0$.
%     \item $H_{\le n}(X, Y; \mathbb Z) \in \CC_p$.
%     \item $\pi_{\le n}(X, Y) \in \CC_p$.
%     \item $\pi_{< n}(Y) \to \pi_{< n}(X)$ is a $\CC_p$--isomorphism and $\pi_n Y \to \pi_n X$ is a $\CC_p$--epimorphism.
%     \item $\pi_{< n} X$ and $\pi_{< n} Y$ have isomorphicm $p$--components.
% \end{enumerate}
% \end{theorem}
% \begin{proof}[Proof sketch]
% The first and second are equivalent by linear duality.  The second and third are connected by the homology long exact sequence of a pair.  The third and fourth and connected by the universal coefficient theorem.  The fourth and fifth are connected by the relative Hurewicz theorem.  The fifth and sixth are connected by the homotopy long exact sequence.  The sixth and seventh are connected by \Cref{Approx7}.
% \end{proof}

% \begin{proof}[Proof of Ex (3)]
% The other properties of $\CC_p$ are obvious, but $H_* BA$ is not.  Thankfully, we have the bar spectral sequence, computing $H_* BA \Leftarrow \Tor^{H_* A}_{*, *}(\Z, \Z)$.  We know also that for $q$ the exponent of $A$, the map $BA \xrightarrow\Delta BA^{\times q} \xrightarrow\mu BA$ is null-homotopic, so all classes are $*$--nilpotent of order $q$.  Distributivity finishes the proof.
% \end{proof}

% \begin{lemma}\label{Approx7}
% For $f\co A \to B$ a $\CC_p$--isomorphism (of finitely generated groups), $A$ and $B$ have isomorphic $p$--components.
% \end{lemma}
% \begin{proof}
% Let $pA$ denote the subgroup of torsion elements prime to $p$, so that we want $A / pA \cong B / pB$.  In the diagram
% \begin{center}
% \begin{tikzcd}
% 0 \arrow{r} & pA \arrow{r} \arrow{d} & A \arrow{r} \arrow["f"]{d} & A/pA \arrow{r} \arrow["{\widehat f}"]{d} & 0 \\
% 0 \arrow{r} & pB \arrow{r} & B \arrow{r} & B/pB \arrow{r} & 0,
% \end{tikzcd}
% \end{center}
% $f$ is a $\CC_p$--isomorphism, hence $\widehat f$ is a $\CC_p$--isomorphism by the $\CC_p$--$5$--lemma.  This plus the fundamental theorem of finitely generated abelian groups implies that $\widehat f$ is a monomorphism, $\widehat f$ induces an isomorphism of torsion subgroups, and its image is a subgroup of maximum rank.
% \end{proof}




\section{Spectra}

Our discussion in \Cref{BrownRepSec} was motivated by our observation in \Cref{EMSpacesExist} that there is a natural isomorphism \[H^n(X; A) \xrightarrow\cong [X, K(A, n)],\] which we generalized to any functor satisfying the wedge and Mayer--Vietoris axioms.
These axioms are most of what it means to be a cohomology theory.
The remaining axiom, which we have not yet discussed, is the following:

\begin{definition}[Suspension axiom]
There is a natural isomorphism
\marginnote{It's pleasing to write this identity as \[\Susp \widetilde H^*(X) \cong \widetilde H^*(\Susp X).\]}
\[\widetilde H^n(X) \xrightarrow\cong \widetilde H^{n+1}(\Susp X).\]
\end{definition}

Its role is an interesting one, and it is best understood in the context of $\pi_*$, which we have shown in \Cref{FreudenthalThm} to \emph{partially} have this property.%
\marginnote{%
The fibration appearing in \Cref{PinSnWithoutHurewicz} for $n = 2$ has the form \[S^1 \to S^3 \to S^3.\]
From this we can conclude $S^3 \simeq S^2[3, \infty)$, and hence $\pi_3 S^2 \cong \Z$.
This gives a concrete counterexample to any extension of Freudenthal beyond the advertised range, as $0 \cong \pi_2 S^1 \not\cong \pi_3 S^2 \cong \Z$.
}
An interesting feature of \Cref{FreudenthalThm} is that the range in which suspension invariance holds improves the more times you suspend: if $\pi_* X \to \pi_* \Susp X$ is an isomorphism through degree $2n$, then $\pi_* \Susp X \to \pi_* \Susp^2 X$ is an isomorphism through degree $2(n+1)$, and so on.
It follows that we can associate to $X$ its \define{stable homotopy groups}, given by $\colim_n \pi_{*+n} \Susp^n X$.
A second interesting feature of \Cref{FreudenthalThm} is that a spectral sequence argument shows it to generalize away from spheres to CW--complexes of bounded dimension:

\begin{corollary}[{of \Cref{FreudenthalThm}}]
\todo{Find me a citation.  I don't seem to be in Switzer.}
Let $X$ be an $s$--connected CW--complex, and let $Y$ be a CW--complex of dimension $t$.
Then \[F(Y, X) \to F(\Susp Y, \Susp X)\] is a $(2s-t)$--equivalence. \qed
\todo{Expand this argument.  Are we looking at a map of Federer spectral sequences for $[-, X] \to [X, \Loops \Susp X]$?  I'm unsure.}
\end{corollary}

\noindent It follows again that $\pi_m F(\Susp^n Y, \Susp^n X)$ is independent of $n$ for $n \gg 0$.
This spurs us to make the following categorical definition:

\begin{definition}\marginnote{\citep[Example 8.2]{Switzer}}
Let $h\CatOf{SuspensionSpectra}$ denote the category which has an object $\Susp^\infty X$ for every pointed space $X$ and whose morphism sets%
\marginnote{A funny consequence of this definition is that $[\Susp^\infty Y, \Susp^\infty X]$ (and, later, $[E, E']$ generally) is \emph{always} an abelian group, since one can always take at least $2$ suspensions to be involved.}
are given by the formula \[[\Susp^\infty Y, \Susp^\infty X] := \colim_n [\Susp^n Y, \Susp^n X].\]
\end{definition}

One need not leave $\CatOf{Spaces}$ to understand this new category:
\begin{align*}
{[\Susp^\infty Y, \Susp^\infty X]} & := \colim_n [\Susp^n Y, \Susp^n X] \\
& = \colim_n [Y, \Loops^n \Susp^n X] \\
& = [Y, \colim_n \Loops^n \Susp^n X] =: [Y, QX].
\end{align*}
\marginnote{The map $h\CatOf{SuspensionSpectra} \to h\CatOf{Spaces}$ produced in this way is commonly denoted by $\Loops^\infty$.}
The stable homotopy groups then appear as honest homotopy groups: \[\pi_n \Susp^\infty X \cong \pi_n QX.\]

The functor $Q$ gives rise to a host of stable invariants: fixing a space $X$, the family of functors \[X^{-*}(-) := [-, Q \Susp^* X]\] satisfy the wedge and Mayer--Vietoris axioms (because the functors are representable), and they are additionally \emph{suspension invariant} (because $\Loops Q \Susp \Susp^n X = Q \Susp^n X$).
Unfortunately, not all cohomology theories arise in this way: there is generally no space $X$ so that $QX \simeq K(A, n)$.\todo{Be clear about what fails and how partial the failure is, since, e.g., $K(\Q, n) = QK(\Q, n)$.}
This failure, however, is interesting on its own, measureable, and surmountable.
Consider the space $QK(A, n)$: \Cref{FreudenthalThm} shows that its homotopy is given by \[\pi_* K(A, n) \cong \begin{cases} 0 & \text{when $* < n$}, \\ A & \text{when $* = n$}, \\ 0 & \text{when $n < * \le 2n$}, \\ ??? & \text{otherwise}. \end{cases}\]
As $n$ increases, the range through which $K(A, n) \to QK(A, n)$ is an equivalence grows like $2n$.
In particular, $K(A, n+1) \to QK(A, n+1)$ is a $2(n+1)$--equivalence, so that $K(A, n) = \Loops K(A, n+1) \to \Loops QK(A, n+1)$ is a $(2n+1)$--equivalence --- an improvement over the $2n$--equivalence $K(A, n) \to QK(A, n)$ by one.
If we were to repeat this trick and take a formal colimit along the maps $\Susp K(A, n) \to K(A, n+1)$ adjoint to $K(A, n) \xrightarrow\simeq \Loops K(A, n+1)$, then we could formally write \[K(A, n) = \Loops^\infty \left( \colim_m \Susp^{-m} \Susp^\infty K(A, n + m) \right).\]
\todo{Is there a good reason to use $\Susp^{-1}$ here rather than $\Loops$?}%
We use this formal expression to justify the following:

\begin{definition}
A \define{spectrum} (up to homotopy) is an ind-diagram of formal desuspensions of suspension spectra.
\end{definition}

\begin{example}
Suspension spectra themselves qualify as spectra: $\Susp^\infty X$ is trivially an ind-diagram.
The \define{sphere spectrum} is the special case of $\S = \Susp^\infty S^0$.
\end{example}

\begin{example}
The \define{Eilenberg--Mac Lane spectrum} is given by the formula above: \[HA = \colim_n \Susp^{-n} \Susp^\infty K(A, n).\]
\end{example}

\begin{example}
The functor $X \mapsto (\pi_* \Susp^\infty X) \otimes \Z_{(p)}$ is exact, hence has an associated spectrum $\S_{(p)}$, the \define{$p$--local sphere spectrum}.
\todo{This is \emph{covariant}.  What is the correct statement for covariant Brown representation?
This is 14.35 in Switzer.  It's actually clear with spectra: replace $\pi_n E \sm X$ with $\pi_n F(DX, E)$ for finite $X$ and appeal to the finite form of Brown.  This absolutely should appear in the section on Spectra and homology theories---but it needs SW duals and $\sm$, so this isn't easy.}
\end{example}

\todo{$K$--theory?  Bordism?}

\begin{example}
The functor $X \mapsto \CatOf{AbGps}(\pi_0^s X, \Q/\Z)$ is exact, hence has an associated spectrum $\I$.  This is called the \define{Brown--Comenetz dualizing object}.
\end{example}

Given all this, one might be motivated by a need for concreteness\marginnote{Less perjoratively: a desire to build a bridge between these ideas and geometry.} to pursue a point-set model for spectra, maps of spectra, and homotopies among maps, whose homotopy category recovers $h\CatOf{Spectra}$.
There are many such models available, with competing strengths and deficiencies.
We reproduce an easy one here, due to Lima, Boardman, and Vogt.

\begin{definition}\label{BoardmanVogtModel}\marginnote{\citep[Definition 8.1]{Switzer}}
A \define{spectrum} is a collection $\{E_n\}_n$ of CW--complexes together with cellular maps $i_n\co \Susp E_n \to E_{n+1}$ which are homeomorphisms onto their images.
\marginnote{This is not so restrictive: given a suitable notion of homotopy equivalence, one may use the mapping cylinder construction to make the subcomplex and homeomorphism conditions apply.}
\end{definition}

As indicated by the ``ind--system'' appearing in the abstract definition, maps between spectra are not quite given by levelwise maps which commute with the inclusions $i_n$.%
\marginnote{%
For instance, we know $\pi_n S^n \cong \Z$ for $n \ge 1$, but $\pi_0 S^0 = \{\pm 1\}$.
If we were to define maps of spectra as such commuting sequences, then we would get $\pi_0 \Susp^\infty \S = \{\pm 1\}$---the \emph{wrong} answer.
}
Instead, one asks for maps to only be defined \emph{eventually}.

\begin{definition}\marginnote{\citep[Definitions 8.9, 8.10, 8.12, 8.15]{Switzer}}
A \define{subspectrum} $F \subseteq E$ is a sequence of subcomplexes of $E_n$, forming a spectrum by restriction.
It is \define{cofinal} when every cell $e^m_\alpha \subseteq E_n$ has $\Susp^{j_\alpha} e^m_\alpha \subseteq F_{n+j_\alpha}$---it eventually appears in $F$.
A map $E \to E'$ is required only to be defined on a cofinal $F \subseteq E$, and two maps are equal if they agree on a mutually cofinal subspectrum.%
\marginnote{In particular, the inclusion of a cofinal subspectrum is equivalent to the identity map.}
Finally, two maps of spectra are \define{homotopic} if there is a common cofinal subspectrum $F'$ and a map $F' \sm I_+ \to E'$ witnessing the homotopy.
\end{definition}

The advantage of having a model available is that we can use it to lift some familiar constructions from $\CatOf{Spaces}$.

\begin{lemma}\marginnote{\citep[8.17, 8.18]{Switzer}}
Spectra have wedge sums and mapping cones, both given level-wise. \qed
\end{lemma}

This, together with our knowledge of $\CatOf{Spaces}$ generally, is enough to copy the proof\marginnote{Which we did not give for $\CatOf{Spaces}$ either!} of Whitehead:

\begin{theorem}\marginnote{\citep[Corollary 8.24]{Switzer}}
If a map $f\co E \to E'$ induces a weak equivalence, it is a homotopy equivalence. \qed
\end{theorem}

\begin{corollary}\marginnote{\citep[Theorem 8.26]{Switzer}}
The spectra $\{E_n \sm S^1\}_n$ and $\{E_{n+1}\}_n$ are equivalent, and so the spectrum $\{E_{n-1} \sm S^1\}_n = \Loops \Susp E$ is equivalent to $E$. \qed
\end{corollary}

% Spectra are also set up to short-circuit Brown representability:

% \begin{lemma}
% $\CatOf{Spectra}(\Susp^\infty X, E) \cong \CatOf{Spaces}(X, \Loops^\infty E)$, where $\Loops^\infty E = \colim_k (\Loops^k E_k)$.
% \end{lemma}
% \begin{proof}
% Definitionally,
% \begin{align*}
% \CatOf{Spectra}(\Susp^\infty X, E) & \cong \colim{}_n \CatOf{Spaces}(\Susp^n X, E_n) \\
% & \cong \colim{}_n \CatOf{Spaces}(X, \Loops^n E_n) \\
% & \cong \CatOf{Spaces}(X, \colim{}_n \Loops^n E_n)
% \end{align*}
% when $X$ is CW.
% \end{proof}




\section{Co/homology theories from spectra}

We defined spectra in such a way that a cohomology theory gives rise to a spectrum by extracting the representing objects $E^n(-) = [-, E_n]$ and building from them the inductive system \[E := \colim_n \Susp^{-n} \Susp^\infty E_n.\]
Our definition was lax enough, though, that the converse is not quite as clear: do spectra precipitate cohomology theories?
If so, how tight is the correspondence between the two?
\todo{This should probably be wholly reorganized.}

\begin{definition}\marginnote{\citep[8.33]{Switzer}}
For a spectrum $E$, we define its \define{associated (reduced) co/homology theories} as follows:
\begin{itemize}
    \item $\widetilde E^n(X) = [\Susp^\infty X, \Susp^n E]$.\todo{``I guess this defines $\Loops^\infty$ through representability.''}
    \item $\widetilde E_n(X) = \pi_n(E \sm X)$, where the smash product $(E \sm X)_n =  E_n \sm X$ is induced up from $\CatOf{Spaces}$.
\end{itemize}
\end{definition}

In order to see that these are co/homology functors, it's useful to record
\begin{lemma}
\marginnote{In general, homotopy classes of maps of spectra are presented by $\pi_0$ of a kind of pro-ind-space.}%
For $X$ a pointed space and $E$ a generic spectrum,%
\marginnote{If one uses Brown representability of a cohomology functor to manufacture the spaces $E_n$ in the definition of $E$, then suspension invariance makes the system in the Lemma \emph{constant}.  This is called an ``$\Omega$--spectrum''.}\todo{How does this formula work with $m$ and $n$ both tending to $\infty$?  Is ``constant'' in the margin note a clue?}
\[[\Susp^\infty X, E] = \colim_{n,m} [\Susp^m X, \Susp^{m-n} E_n].\]
\end{lemma}
\begin{proof}
One couples the formula for suspension spectra \[[\Susp^\infty X, \Susp^\infty Y] = \colim_m [\Susp^m X, \Susp^m Y]\] to a presentation of $E$: \[E = \colim_n \Susp^{-n} \Susp^\infty E_n. \qedhere\]\todo{Why can we pull the colimit out of the target?}
\end{proof}

To feel confident in our definition, we should check that these functors indeed satisfy the Eilenberg--Steenrod axioms.\todo{define?}
\begin{enumerate}
    \item We've built in suspension invariance:
    \begin{align*}
    \widetilde E_{n+1}(\Susp X) & \cong [S^{n+1}, E \sm \Susp X] \cong [S^n, E \sm X] \cong \widetilde E_n(X), \\
    \widetilde E^{n+1}(\Susp X) & \cong [\Susp^\infty \Susp X, \Susp^{n+1} E] \cong [\Susp^\infty X, \Susp^n E] \cong \widetilde E^n(X).
    \end{align*}
    \item A coexact sequence \[A \xrightarrow i X \to X \cup_i CA\] of pointed spaces induces a coexact sequence of spectra\todo{Do we need coexact = exact for spectra?} \[E \sm A \to E \sm X \to E \sm (X \cup_i CA) = (E \sm X) \cup_i C(E \sm A),\] so we get the desired long exact sequence
    \begin{center}
    \begin{tikzcd}
    \cdots \arrow{r} & \pi_n \left(E \sm A\right) \arrow{r} \arrow[equal]{d} & \pi_n \left(E \sm X\right) \arrow{r} \arrow[equal]{d} & \pi_n \left(E \sm C(i)\right) \arrow{r} \arrow[equal]{d} & \cdots \\
    \cdots \arrow{r} & \widetilde E_n(A) \arrow{r} & \widetilde E_n(X) \arrow{r} & \widetilde E_n(X, A) \arrow{r} & \cdots.
    \end{tikzcd}
    \end{center}
    For the analogous fact in cohomology, the sequence of suspension spectra \[\Susp^\infty A \to \Susp^\infty X \to \Susp^\infty (X \cup_i CA)\] is coexact, so mapping into $E$ makes it exact.
    \todo{We haven't talked about function spectra... so is this really fair?  Perhaps we only need $\sm$ and representability, which we do have.}
    \item The cohomological wedge axiom is easy: by pulling coproducts out on the left to products, we get \[\left[\bigvee_\alpha \Susp^\infty X_\alpha, E\right] = \prod_\alpha [\Susp^\infty X_\alpha, E].\]
    Homology is harder and requires a filtration trick.\marginnote{\citep[Lemma 8.34]{Switzer}}
    We know that our homology functor satisfies the \emph{finite} wedge axiom by appeal to the Mayer--Vietoris axiom.
    Smash products also commute with colimits, hence one may check \[E \sm \colim_{\substack{S \subseteq A \\ \text{$S$ finite}}} \bigvee_{\alpha \in S} X_\alpha \cong \colim_S E \sm \bigvee_{\alpha \in S} X_\alpha \cong \colim_S \bigvee_{\alpha \in S} E \sm X_\alpha \cong \bigvee_\alpha E \sm X_\alpha.\]
    \todo{This feels clumsy.  Is it really necessary?  This must have been some garbled $\prod^\infty$ vs $\coprod^\infty$...?  This is a \emph{compactness} argument.}
    From this, the wedge axiom follows.
\end{enumerate}

\begin{remark}
The Mayer--Vietoris axiom amounts to the assertion that co/homology functors commute with finite (homotopy) colimits, and the wedge axiom adds a special case on top of that.
Cohomology \emph{does not} commute with general colimits.%
\marginnote{\citep[Propositions 7.66 and 8.37]{Switzer}}
Instead, there is a \define{Milnor sequence}: \[0 \to R^1 \lim_\alpha E^{n-1} X_\alpha \to E^n(\colim_\alpha X_\alpha) \to \lim_\alpha E^n(X_\alpha) \to 0.\]
\end{remark}

Satisfied that we have indeed produced co/homology theories, we can investigate whether these assignments are mutual inverses.
To compare objects, this mostly comes down to Whitehead's theorem for spectra.
Using Brown representability for natural transformations, we can lift maps of cohomology theories up to maps of spectra: a map $E^* \xrightarrow f F^*$ of cohomology functors induces a compatible family of maps $E_n \xrightarrow{f_n} F_n$ and hence a map $\widetilde f\co E \to F$ of spectra.%
\marginnote{It's even reasonable to extend the definition of cohomology to $F^0(E) = [E, F]$, of which $\widetilde f$ is then an element.}
From this, one sees that a natural isomorphism of cohomology theories induces a weak equivalence of spectra, and conversely.
However, Brown representability falls short of giving a \emph{functorial} correspondence: the same natural transformation of cohomology theories can be induced by multiple homotopy-inequivalent maps of spectra.
This difference is called a ``phantom''.
More precisely, Brown's result shows that the construction
\begin{align*}
\CatOf{Spectra} & \to \CatOf{CohomologyTheories} \\
E & \mapsto [\Susp^\infty - , \Susp^* E]
\end{align*}
is full and bijective on isomorphism classes.

\begin{theorem}[Hurewicz]\marginnote{\citep[Theorem 10.25]{Switzer}}
\todo{Where does this belong?}
There is a map $\S \to H\Z$ which has $0$--connected fiber.
By consequence, the difference between $\S_*(X)$ and $H\Z_*(X)$ begins one degree above the bottommost cell in $X$.
By consequence, for $X$ $n$--connected and $n \ge 1$, $\pi_n X \cong \pi_n^s X \cong H\Z_n X$. \qed
\end{theorem}




\section{The smash product}

For all our discussion of homotopy and homology \emph{groups}, we have not yet found a framework for the cohomology \emph{ring} of a space.
The following observation is key:

\begin{definition}
A \define{ring} is a (commutative, unital) monoid in $\CatOf{AbelianGroups}$ under the $\otimes$--product.%
\marginnote{It is particularly important that one does \emph{not} use the Cartesian / categorical $\times$.}
\end{definition}

Our discussion around \Cref{RepresentableGroupsLemma} then indicates a way forward: since we have constructed an object $HR$ which represents ordinary cohomology with coefficients in $R$, a monoidal structure on $H^*(-; R)$ should induce some manner of monoid structure on $HR$.%
\marginnote{Ideally, it would even be visibly related to the original monoidal structure on $R$.}
In order to make sense of this, we need a monoidal structure on $h\CatOf{Spectra}$ which is compatible with the other monoidal structures in play, in the sense that the following pair of functors should be made monoidal: \[\CatOf{AbelianGroups} \xrightarrow H \CatOf{Spectra} \xleftarrow{\Susp^\infty} \CatOf{Spaces}_{*/}.\]
We have already introduced the operation \[\Susp^\infty X \sm \Susp^\infty Y := \Susp^\infty(X \sm Y)\] for two pointed spaces $X$ and $Y$.
Since $\CatOf{Spectra}$ is suitably generated by the image of $\Susp^\infty$, it should seem likely that this will pin down any putative monoidal structure.

For inspiration as to how to define the smash product in general, recall that we have also already defined $E \sm \Susp^\infty X$ for a generic spectrum $E$ and a pointed space $X$.
Given a presentation $E = \{\Susp^{n_j} \Susp^\infty E_j\}_j$, we set \[E \sm \Susp^\infty X := \{\Susp^{n_j} \Susp^\infty (E_j \sm X)\}_j.\]
That is, we commuted the smash product through the ind--system, where we reduced to the case of the smash product of suspension spectra.
In the fully general case of $E \sm F$, we may also choose a presentation of the second spectrum $F$ as $F = \{\Susp^{m_k} \Susp^\infty F_k\}_k$, and then we set \[(E \sm F)_{j,k} := \{\Susp^{n_j + m_k} \Susp^\infty E_j \sm F_k\},\] another ind--system.

\begin{remark}\marginnote{\citep[pg.\ 254--267]{Switzer}}
To define the smash product in terms of Boardman and Vogt's concrete model given in \Cref{BoardmanVogtModel}, we must convert this doubly-indexed ind--system into a sequential system.
One option is to select any cofinal subsystem, but this destroys the associativity of the product (and often destroys the commutativity).
A superior option is to ``sum over possible choices'': we set $(E \sm F)_n$ to be the colimit of the diagram under the $n$\textsuperscript{th} antidiagonal (after replacing the maps by cofibrations).
\end{remark}

From here, the main task is to show that this definition is sufficiently insensitive to the choice of presentation: given a pair of weakly equivalent presentation, one must show that this induces a weak equivalence after smashing.
This is possible, and hence one learns:

\begin{theorem}\marginnote{\citep[Theorem 13.40]{Switzer}}
\marginnote{\textbf{Warning:} This product is \emph{not} especially nice before passing to the homotopy category.  It turns out that this is unavoidable.}
In the homotopy category, this determines a symmetric monoidal product, $\sm$, on $\CatOf{Spectra}$. \qed
\end{theorem}

\begin{definition}\marginnote{\citep[Definition 13.50]{Switzer}}
A \define{ring spectrum} is a spectrum $E$ equipped with a multiplication map $\mu\co E \sm E \to E$ and a unit map $\eta\co \S \to E$ making $E$ into a (unital) monoid object in $h\CatOf{Spectra}$.
\end{definition}

\begin{example}
\marginnote{The statement here applies to any ring-valued theory.}
The cup product maps \[H^n(-; R) \times H^m(-; R) \xrightarrow\smile H^{n+m}(-; R)\] induce maps \[K(R, n) \sm K(R, m) \xrightarrow\smile K(R, n+m)\] which altogether induce a product \[HR \sm HR \to HR.\]
\end{example}

\begin{example}
The sphere spectrum, $\S$, is the monoidal unit and hence also a ring.
\end{example}

The inverse construction is now straightforward.
Suppose that we have a pair of cohomology classes $\omega_n \in E^n(X)$ and $\omega_m \in E^m(X)$, for which we choose representatives $\omega_n\co \Susp^\infty X \to \Susp^n E$ and $\omega_m\co \Susp^\infty X \to \Susp^m E$.
Given a multiplication $\mu\co E \sm E \to E$, we define the product $\omega_n \smile \omega_m$ like so:
\marginnote{This same product can be used to make $E^* X$ (and $E_* X$) into $E_*$--modules.}
\[X \xrightarrow{\Delta} X \sm X \xrightarrow{\omega_n \sm \omega_m} \Susp^n E \sm \Susp^m E \simeq \Susp^{n+m}(E \sm E) \xrightarrow\mu \Susp^{n+m} E.\]

\begin{remark}
One can check that $- \sm E$ preserves colimits.
By positing an exponential adjunction, one can use Brown representability on the putative formula \[F(E_1, E_2)^*(X) = \text{``}\pi_0 F(E_1 \sm X, E_2)\text{''} = \CatOf{Spectra}(E_1 \sm X, E_2)\] to define a notion of \define{function spectrum}.
As with other objects extracted from Brown's result, this definition does not have excellent functoriality properties.
\marginnote{Of course, one can also give a direct definition.}
However, there is a version of the adjoint functor theorem that also applies to give a fully functorial statement---but this is beyond our current technology.
\end{remark}

Ring spectra induce a useful duality pairing between their associated co/homology theories.
\begin{definition}\marginnote{\citep[pg.\ 281]{Switzer}}
Given co/homology classes
\begin{align*}
(\sigma\co \S^n \to E \sm \Susp^\infty X) & \in E_n X, \\
(\omega \co \S^m \sm \Susp^\infty X \to E) & \in E^m(X),
\end{align*}
we define their pairing to be \[\<\omega, \sigma\>\co \S^{n+m} \xrightarrow{\Susp^m \sigma} E \sm \S^m \sm \Susp^\infty X \xrightarrow{1 \sm \omega} E \sm E \xrightarrow\mu E.\]
\end{definition}

\begin{lemma}\marginnote{\citep[Proposition 13.62.i]{Switzer}}
Under this pairing, the maps $f^*$, $f_*$ induced by $f$ are adjoint: \[\<f^* \omega, \sigma\> = \<\omega, f_* \sigma\>.\]
\end{lemma}
\begin{proof}
This is a consequence of the following diagram:
\begin{center}
\begin{tikzcd}
\S^{n+m} \arrow["\Susp^m \sigma"]{r} \arrow["\Susp^m f_* \sigma"']{rd} & E \sm \S^m \sm \Susp^\infty X \arrow["1 \sm 1 \sm f"]{d} \arrow["1 \sm f^* \omega"]{rd} \\
& E \sm \S^m \sm \Susp^\infty Y \arrow["\omega"]{r} & E \sm E \arrow["\mu"]{r} & E.
\end{tikzcd}
\end{center}
\end{proof}



\begin{subappendices}

\section{Grassmannians}

\end{subappendices}
